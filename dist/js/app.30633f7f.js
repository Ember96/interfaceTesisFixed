(function(){var e={7489:function(e,t,a){"use strict";var s=a(144),n=a(4635),r=a(1096),o=a(7179),i=a(9781),l=a(4437),c=a(5452),u=a(5294),d=a(9953),m=function(){var e=this,t=e._self._c;return t(r.Z,{attrs:{height:"windowHeight",width:"windowWidth"}},[t(d.Z,{attrs:{dark:"",color:"primary",window:"",height:"60"}},[t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"3"}},[t(o.Z,{attrs:{text:"",primary:""},on:{click:function(t){return e.$router.replace({path:"/"})}}},[e._v("Sistema de gestión de datos de sensado")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(o.Z,{attrs:{text:"",primary:""},on:{click:function(t){e.loginAttemp=!0}}},[e._v("Autenticarse")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(o.Z,{attrs:{text:"",primary:""},on:{click:function(t){e.registerAttemp=!0}}},[e._v("Registrarse")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(o.Z,{attrs:{disabled:!e.loggedIn,text:"",primary:""},on:{click:e.handleLoggedIn}},[e._v(" Manejo de Datos ")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(o.Z,{attrs:{text:"",primary:""},on:{click:function(t){return e.$router.replace({path:"about/"})}}},[e._v("Acerca de este sitio")])],1)],1)],1),t(i.Z,{attrs:{height:"100%"}},[t(c.Z,{attrs:{width:"400"},model:{value:e.registerAttemp,callback:function(t){e.registerAttemp=t},expression:"registerAttemp"}},[t("RegisterUser",{on:{register:e.handleRegister}})],1),t(c.Z,{attrs:{width:"300"},model:{value:e.loginAttemp,callback:function(t){e.loginAttemp=t},expression:"loginAttemp"}},[t("LoginComponent",{on:{login:e.handleLogin}})],1),t("router-view"),e.loginSuccess?t(n.Z,{attrs:{elevation:"3",type:"success"},on:{click:function(t){e.loginSuccess=!1}}},[e._v("Se ha autenticado correctamente ")]):e._e(),e.registerSuccess?t(n.Z,{attrs:{elevation:"3",type:"success"},on:{click:function(t){e.registerSuccess=!1}}},[e._v("Se ha registrado correctamente ")]):e._e(),e.noBalance?t(n.Z,{attrs:{elevation:"3",type:"error"},on:{click:function(t){e.noBalance=!1}}},[e._v("Se ha autenticado correctamente ")]):e._e()],1)],1)},p=[],h=a(5223),f=a(6035),g=a(6904),v=a(5234),Z=a(5251),b=function(){var e=this,t=e._self._c;return t(i.Z,[t(g.Z,[t(f.Z,[t(l.Z,[t(u.Z,{attrs:{cols:"12",md:"4"}},[t(o.Z,{staticClass:"text-align: left",attrs:{text:"",primary:"",width:"100%"}},[e._v("Introduzca sus datos:")]),t(Z.Z,{attrs:{label:"Usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{type:"password",label:"Contraseña",required:""},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1)],1)],1)],1),t(h.h7,[t(v.Z),t(o.Z,{attrs:{color:"success"},on:{click:e.login}},[e._v(" Entrar ")]),t(o.Z,{attrs:{color:"error"},on:{click:e.incorrectData}},[e._v(" Cancelar ")])],1)],1)},_=[],y={data:()=>({username:"",secret:"",userData:Object}),methods:{async login(){this.userData=await this.$axios.post("login",{username:this.username,secret:this.secret}).then((function(e){return console.log(e),e.data.usuarioDb})).catch((function(e){console.log(e)})),this.$store.state.userData=this.userData,console.log(this.$store.state.userData),"undefined"!==typeof this.userData?this.$emit("login","correct"):this.incorrectData},incorrectData(){this.$emit("login","cancelled")}}},x=y,w=a(1001),k=(0,w.Z)(x,b,_,!1,null,null,null),C=k.exports,D=function(){var e=this,t=e._self._c;return t(i.Z,[t(g.Z,[t(f.Z,[t(l.Z,[t(o.Z,{staticClass:"text-align: left",attrs:{text:"",primary:"",width:"100%"}},[e._v("Introduzca sus datos:")]),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Nombres",required:""},model:{value:e.names,callback:function(t){e.names=t},expression:"names"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Apellidos",required:""},model:{value:e.lastNames,callback:function(t){e.lastNames=t},expression:"lastNames"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Nombre de usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{type:"password",label:"Contraseña",required:""},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Rol",value:"Curador",disabled:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Crédito",value:"100.00",prefix:"$",disabled:""},model:{value:e.balance,callback:function(t){e.balance=t},expression:"balance"}})],1)],1)],1)],1),t(h.h7,[t(v.Z),t(o.Z,{attrs:{color:"success"},on:{click:e.registerUser}},[e._v(" Registrar ")]),t(o.Z,{attrs:{color:"error"},on:{click:e.incorrectData}},[e._v(" Cancelar ")])],1)],1)},S=[],A={data:()=>({names:"",lastNames:"",username:"",secret:"",role:"Curador de datos",balance:100,userData:Object}),methods:{async registerUser(){this.userData=await this.$axios.post("users",{username:this.username,secret:this.secret,names:this.names,lastNames:this.lastNames,role:this.role,balance:this.balance}).then((function(e){return console.log(e,"brute response"),e.data.newUser})).catch((function(e){console.log(e)})),this.$store.state.userData=this.userData,console.log(this.$store.state.userData),"undefined"!==typeof this.userData&&this.$emit("register","correct")},incorrectData(){this.$emit("register","cancelled")}}},F=A,T=(0,w.Z)(F,D,S,!1,null,null,null),$=T.exports,N={components:{LoginComponent:C,RegisterUser:$},data:()=>({windowHeight:window.innerHeight,windowWidth:window.innerWidth,loginAttemp:!1,registerAttemp:!1,loginSuccess:!1,registerSuccess:!1,noBalance:!1,loggedIn:!1}),methods:{handleLogin(e){"correct"==e&&(this.loginSuccess=!0,this.loggedIn=!0),this.loginAttemp=!1},handleRegister(e){"correct"==e&&(this.registerAttemp=!0,this.handleLoggedIn()),this.registerAttemp=!1},handleBalance(e){this.noBalance=e},handleLoggedIn(){"undefined"!=typeof this.$store.state.userData._id&&(this.loggedIn=!0,this.$router.replace({path:"/upload"}))}}},I=N,E=(0,w.Z)(I,m,p,!1,null,null,null),P=E.exports,B=a(2250);s.ZP.use(B.Z);var L=new B.Z({}),R=a(8345),q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("HelloWorld"),t("FooterComponent")],1)},U=[],j=a(4944),W=a(4192),z=a(8714),O=a(6487),H=a(1911),V=a(1133),M=a(5057),Y=a(9200),X=function(){var e=this,t=e._self._c;return t(i.Z,{staticClass:"mx-auto my-3",attrs:{width:"80%",elevation:"6"}},[t("div",{staticClass:"text-center d-flex pb-4"},[t(u.Z,[t(l.Z,{staticClass:"ml-5",attrs:{cols:"8",md:"2"}},[t(Y.Z,{attrs:{inset:"",label:"Expandir"},on:{click:e.unfoldFiles},model:{value:e.unfold,callback:function(t){e.unfold=t},expression:"unfold"}})],1),t(l.Z,{attrs:{cols:"10",md:"7"}},[t(o.Z,{staticClass:"mt-4",attrs:{text:"",color:"blue"},on:{click:e.getAllUsers}},[e._v("Contratos activos por usuario"),t(M.Z,[e._v("mdi-refresh")])],1)],1)],1)],1),e.noBalance?t(n.Z,{attrs:{elevation:"3",type:"error"},on:{click:function(t){e.noBalance=!1}}},[e._v("Necesitas más créditos ")]):e._e(),t(i.Z,{staticClass:"overflow-auto",attrs:{height:e.windowHeight}},[t(V.Z,{attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(e.usersFull,(function(a,s){return t(z.Z,{key:s},[t(H.Z,[t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"2"}},[t(j.Z,{attrs:{color:"primary"}},[e._v(" "+e._s(a.role)+" ")])],1),t(l.Z,{staticClass:"text-left",attrs:{cols:"12",md:"4"}},[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v(" "+e._s(a.names)+" "+e._s(a.lastNames)+" ")])],1)],1)],1),e._l(a.files,(function(a,n){return t(O.Z,{key:n},[t(u.Z,{staticClass:"background-color: blue"},[t(o.Z,{attrs:{text:"",color:"white"}},[e._v("Información de los datos: ")]),t(v.Z),t(o.Z,{attrs:{text:"",color:"white"},on:{click:function(t){return e.buy(s,n)}}},[e._v("Comprar ")])],1),t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"4"}},[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Nombre de archivo: "+e._s(a.fileName.slice(0,30)))])],1),t(l.Z,{staticClass:"text-center",attrs:{cols:"12",md:"3"}},[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Tamaño de archivo: "+e._s(a.fileSize)+" B")])],1),t(l.Z,{staticClass:"text-center",attrs:{cols:"12",md:"3"}},[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Formato de archivo: "+e._s(a.dataFormat))])],1)],1),t(u.Z,{attrs:{cols:"12",md:"8"}},[t(o.Z,{staticClass:"ml-3",attrs:{text:"",color:"blue"}},[e._v("Etiquetas:")]),e._l(a.dataTypes,(function(a,s){return t(j.Z,{key:s,staticClass:"mx-2 my-1",attrs:{color:"primary"}},[e._v(" "+e._s(a)+" ")])}))],2),t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"4"}},[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Precio: "+e._s(a.remuneration))])],1),t(l.Z,{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[t(o.Z,{staticClass:"ml-2",attrs:{text:"",color:"blue"}},[e._v("Paciente: "+e._s(a.patientNames)+" "+e._s(a.patientLastNames))])],1)],1),t(W.Z)],1)}))],2)})),1)],1)],1)},G=[],K={name:"HelloWorld",beforeMount(){this.getAllUsers(),this.windowHeight=.7*window.innerHeight},data:()=>({panel:[],panelItems:5,usersFull:[],unfold:!1,contractChosen:Number,noBalance:!1,windowHeight:0,windowWidth:window.innerWidth}),methods:{setWeb3Addr(){return!1},readWallet(){return!1},createWallet(){return!1},deployContract(){return!1},unfoldFiles(){this.unfold?this.panel=[...Array(this.panelItems).keys()].map(((e,t)=>t)):this.panel=[]},async getAllUsers(){this.usersFull=await this.$axios.get("users").then((function(e){return e.data})),console.log(this.usersFull,"all users"),this.panelItems=this.usersFull.length},getPanelContent(){this.panelItems=this.usersFull},async buy(e,t){console.log(e,t);let a=this.$store.state.userData.balance-this.usersFull[e].files[t].remuneration;console.log(a);let s=this.usersFull[e].balance+this.usersFull[e].files[t].remuneration;console.log(s);let n=this.usersFull[e].files[t],r=this.$store.state.userData._id,o=this.usersFull[e]._id;a>=0?(await this.$axios.put(`users/${r}`,{balance:a}).then((function(e){console.log(e,"buyer update brute response")})).catch((function(e){console.log(e)})),await this.$axios.put(`users/${o}`,{balance:s}).then((function(e){console.log(e,"seller update brute response")})).catch((function(e){console.log(e)})),window.open("https://tesis.infura-ipfs.io/ipfs/"+n.ipfsAddr)):this.noBalance=!0,this.getAllUsers()}}},Q=K,J=(0,w.Z)(Q,X,G,!1,null,null,null),ee=J.exports,te=a(3584),ae=function(){var e=this,t=e._self._c;return t(te.Z,{attrs:{color:"primary lighten-1",padless:""}},[t(u.Z,{staticClass:"text-center white--text",attrs:{justify:"center","no-gutters":""}},[e._v("Este sistema no está pensado para su uso fuera del ambiente de pruebas de viabilidad con la participación de los estudiantes de la asignatura Ciencia de Datos para Sensores del Dpto. de Ciencias Computacionales."),t("br"),e._v("Absténgase de emplearlo con cualquier otro fin y conste que las interacciones con el mismo generan registro en propiedad de la institución a pie de página. "),t(l.Z,{staticClass:"primary lighten-2 py-4 text-center white--text",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),t("strong",[e._v("CICESE")])])],1)],1)},se=[],ne={data:()=>({links:["Home","About Us","Team","Services","Blog","Contact Us"]})},re=ne,oe=(0,w.Z)(re,ae,se,!1,null,null,null),ie=oe.exports,le={name:"HomeView",components:{HelloWorld:ee,FooterComponent:ie}},ce=le,ue=(0,w.Z)(ce,q,U,!1,null,null,null),de=ue.exports,me=a(5378),pe=a(248),he=a(1908),fe=a(3944),ge=a(2776),ve=a(8228),Ze=a(2370),be=function(){var e=this,t=e._self._c;return t(r.Z,[t(i.Z,{staticClass:"mt-3",attrs:{height:"windowHeight",width:e.windowWidth}},[t(i.Z,{staticClass:"float-left ml-5",attrs:{width:"48.5%",height:"60%",elevation:"5",outlined:"",shaped:""}},[t(me.Z,{attrs:{flat:"",color:"blue"}},[t(M.Z,{staticClass:"pr-2",attrs:{dark:""}},[e._v("mdi-list-box-outline")]),t(Ze.qW,{staticClass:"text-h6 white--text pl-0"},[e._v(" Listado de archivos ")]),t(i.Z,{staticClass:"ma-auto"}),t(v.Z),t(o.Z,{attrs:{color:"white",icon:""}},[t(M.Z,{on:{click:e.fillFileList}},[e._v("mdi-refresh")])],1)],1),t(pe.Z,{staticClass:"ma-2"},[t(ge.Z,{staticClass:"overflow-auto",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[t(he.Z,[t(fe.km,[t(fe.V9,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Tipo")])],1)],1),t(fe.km,[t(fe.V9,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Nombre de archivo")])],1)],1),t(fe.km,[t(fe.V9,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Tamaño de archivo")])],1)],1),t(fe.km,[t(fe.V9,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Acciones")])],1)],1)],1),t(he.Z,[t(W.Z)],1),e._l(e.files,(function(a,s){return t(he.Z,{key:s},[t(fe.km,[t(M.Z,{domProps:{textContent:e._s(a.icon)}})],1),t(W.Z,{attrs:{vertical:""}}),t(fe.km,[t(fe.V9,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v(e._s(a.name))])],1)],1),t(W.Z,{attrs:{vertical:""}}),t(fe.km,[t(fe.V9,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v(e._s(a.size)+" kilobytes")])],1)],1),t(W.Z,{attrs:{vertical:""}}),t(fe.km,[t(ve.Z,[t(M.Z,{staticClass:"mx-auto",on:{click:function(t){return e.getIpfsFile(s)}}},[e._v("mdi-download")]),t(M.Z,{staticClass:"mx-auto",on:{click:function(t){return e.deleteContract(s)}}},[e._v("mdi-delete")])],1)],1)],1)}))],2)],1),t(h.h7,[t(v.Z)],1)],1),t(i.Z,{staticClass:"float-right mr-5",attrs:{width:"48.5%","max-height":"60%","min-height":"45%",elevation:"5",outlined:"",shaped:""}},[t("UploadData",{on:{fileData:e.getFileData}})],1),t(i.Z,{staticClass:"float-end ma-5",attrs:{width:"98%",height:"25%",elevation:"5",outlined:""}},[t("ContractStarter",{attrs:{fileData:e.fileData}})],1)],1)],1)},_e=[],ye=(a(7658),a(271)),xe=function(){var e=this,t=e._self._c;return t(i.Z,[t(me.Z,{attrs:{flat:"",color:"blue"}},[t(M.Z,{staticClass:"pr-2",attrs:{dark:""}},[e._v("mdi-folder-arrow-up-outline")]),t(Ze.qW,{staticClass:"text-h6 white--text pl-0"},[e._v(" Subir a IPFS ")]),t(i.Z,{staticClass:"ma-auto"}),t(v.Z),t(o.Z,{attrs:{color:"white",icon:""}},[t(M.Z,[e._v("mdi-power-plug-off")])],1)],1),t(i.Z,{staticClass:"pa-2",attrs:{flat:""}},[t(o.Z,{staticClass:"font-weight-black",attrs:{text:"",color:"blue"}},[e._v("Información del archivo")]),t(l.Z,{attrs:{"no-gutters":""}},[t(u.Z,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Nombre: "+e._s(e.name)+" ")])],1),t(u.Z,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Tamaño: "+e._s(e.size))])],1),t(u.Z,[t(o.Z,{attrs:{text:"",color:"blue"}},[e._v("Tipo: "+e._s(e.type))])],1)],1)],1),t(ye.Z,{staticClass:"pa-10 mx-auto",attrs:{color:"blue",accept:"*",label:"Presione para seleccionar un archivo"},on:{change:function(t){return e.captureFile(e.uploadBtn)}},model:{value:e.uploadBtn,callback:function(t){e.uploadBtn=t},expression:"uploadBtn"}}),t(h.h7,[t(v.Z),t(o.Z,{staticClass:"mr-8",attrs:{dark:"",color:"primary",large:""},on:{click:e.onSubmit}},[e._v(" Subir "),t(M.Z,{attrs:{right:"",dark:""}},[e._v(" mdi-cloud-upload ")])],1)],1)],1)},we=[],ke=a(3952),Ce=a(8764);const De="2KiK6S75slDQfxRFU5dfP7z7TQG",Se="622237ae0de6536fe6464071ffa0a100",Ae="Basic "+Ce.lW.from(De+":"+Se).toString("base64"),Fe=(0,ke.Ue)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:Ae}});var Te=Fe,$e={data:()=>({uploadBtn:[],buffer:"",name:"",size:0,type:""}),methods:{async convertToBuffer(e){return Ce.lW.from(e)},captureFile(e){console.log(e),this.name=e.name,this.size=e.size,this.type=e.type;const t=new FileReader;"undefined"!==typeof e?(t.readAsArrayBuffer(e),t.onloadend=async()=>{this.buffer=await this.convertToBuffer(t.result)}):this.buffer=""},async onSubmit(){this.$root.loading=!0;let e=await Te.add(this.buffer);console.log(e),this.$emit("fileData",[this.type,this.name,this.size,e.path])},handleOk(){this.buffer&&this.caption?this.onSubmit():alert("Please fill in the information.")}},mounted(){}},Ne=$e,Ie=(0,w.Z)(Ne,xe,we,!1,null,null,null),Ee=Ie.exports,Pe=a(6072),Be=a(5316),Le=function(){var e=this,t=e._self._c;return t(i.Z,[t(me.Z,{attrs:{flat:"",color:"blue"}},[t(M.Z,{staticClass:"pr-2",attrs:{dark:""}},[e._v("mdi-file-sign")]),t(Ze.qW,{staticClass:"text-h6 white--text pl-0"},[e._v(" Carta de consentimiento ")]),t(i.Z,{staticClass:"ma-auto"}),t(v.Z),t(o.Z,{attrs:{outlined:"",color:"white",disabled:!e.consentCheck},on:{click:e.signContract}},[e._v("Firmar"),t(M.Z,[e._v("mdi-draw-pen")])],1)],1),t(g.Z,{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(f.Z,[t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"2"}},[t(Pe.Z,{attrs:{label:"Son mis datos",color:"primary",value:"primary","hide-details":""},on:{click:e.updateNames},model:{value:e.ownData,callback:function(t){e.ownData=t},expression:"ownData"}})],1),t(l.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{rules:e.nameRules,label:"Nombre(s) del paciente",required:""},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}})],1),t(l.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{rules:e.nameRules,label:"Apellido(s) del paciente",required:""},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}})],1),t(l.Z,{attrs:{cols:"12",md:"2"}},[t(Z.Z,{attrs:{label:"Remuneración esperada",value:"00.00",prefix:"$"},model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}})],1)],1),t(u.Z,[t(l.Z,[t(Be.Z,{attrs:{items:e.dataTypeItems,"search-input":e.search,"hide-selected":"",hint:"Máximo 5 etiquetas",label:"¿Qué tipo de datos contiene?",multiple:"","persistent-hint":"","small-chips":"",clearable:""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(he.Z,[t(fe.km,[t(fe.V9,[e._v(' No se encuentra "'),t("strong",[e._v(e._s(e.search))]),e._v('". Presione '),t("kbd",[e._v("Enter")]),e._v(" para agregar esta etiqueta ")])],1)],1)]},proxy:!0}]),model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}})],1),t(l.Z,[t(Pe.Z,{attrs:{label:"Al marcar esta casilla confirma haber leído y aceptado la carta de consentimiento de uso de datos que puede encontrar en este enlace",color:"success",value:"success","hide-details":""},model:{value:e.consentCheck,callback:function(t){e.consentCheck=t},expression:"consentCheck"}})],1)],1)],1)],1),e.signSuccess?t(n.Z,{attrs:{elevation:"3",type:"success"},on:{click:function(t){e.signSuccess=!1}}},[e._v("Firmado correctamente ")]):e._e(),e.noData?t(n.Z,{attrs:{elevation:"3",type:"error"},on:{click:function(t){e.noData=!1}}},[e._v("Debe subir datos primero ")]):e._e()],1)},Re=[],qe={props:["fileData"],data:()=>({consentCheck:!1,noData:!1,ownData:!1,valid:!1,firstname:"",lastname:"",nameRules:[e=>!!e||"Se necesita un nombre",e=>e.length>=2||"Demasiado corto"],email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"],dataTypeItems:["Grabación de voz","Interacción con el robot EVA","Estados de ánimo"],dataType:[],search:null,payment:0,signSuccess:!1}),watch:{dataType(e){e.length>5&&this.$nextTick((()=>this.dataType.pop()))}},methods:{async signContract(){if(console.log(this.fileData),"undefined"!=typeof this.fileData&&0!=this.fileData.length){let e=await this.$axios.post("data",{ipfsAddr:this.fileData[3],fileName:this.fileData[1],fileSize:this.fileData[2],dataFormat:this.fileData[0],remuneration:this.payment,dataTypes:this.dataType,patientNames:this.firstname,patientLastNames:this.lastname,user_id:this.$store.state.userData._id}).then((function(e){return console.log(e),e.data})).catch((function(e){console.log(e)}));"undefined"!=typeof e&&(this.signSuccess=!0)}else this.noData=!0}},updateNames(){console.log(this.$store.state.userData),this.firstname=this.$store.state.userData.names,this.lastname=this.$store.state.userData.lastNames},checkReadyToSign(){}},Ue=qe,je=(0,w.Z)(Ue,Le,Re,!1,null,null,null),We=je.exports,ze={components:{UploadData:Ee,ContractStarter:We},data:()=>({files:[],model:1,windowHeight:.7*window.innerHeight,windowWidth:window.innerWidth,fileData:[],userFiles:[]}),methods:{getFileData(e){this.fileData=e,console.log(e,"data received from upload");let t="";t="image"==e[0].slice(0,5)?"mdi-image":"audio"==e[0].slice(0,5)?"mdi-music-box-outline":"video"==e[0].slice(0,5)?"mdi-movie-open-outline":"mdi-file",this.files.push({icon:t,name:e[1],size:e[2],addr:e[3]})},fillFileList(){console.log(this.userFiles);let e=this.userFiles;e.forEach((e=>{let t="";t="image"==e.dataFormat.slice(0,5)?"mdi-image":"audio"==e.dataFormat.slice(0,5)?"mdi-music-box-outline":"video"==e.dataFormat.slice(0,5)?"mdi-movie-open-outline":"mdi-file",this.files.push({icon:t,name:e.fileName,size:e.fileSize,addr:e.ipfsAddr,id:e._id})}))},async getUserFiles(){let e=this.$store.state.userData._id;console.log(e),this.userFiles=await this.$axios.get(`users/${e}`).then((function(e){return console.log(e),e.data.files})).catch((function(e){console.log(e)})),console.log(this.userFiles),this.fillFileList()},async getIpfsFile(e){window.open("https://tesis.infura-ipfs.io/ipfs/"+this.files[e].addr)},async deleteContract(e){await this.$axios.post(`data/${this.files[e].id}`).then((function(e){console.log(e,"file delete brute response")})).catch((function(e){console.log(e)}))}},mounted(){this.getUserFiles()}},Oe=ze,He=(0,w.Z)(Oe,be,_e,!1,null,null,null),Ve=He.exports,Me=function(){var e=this,t=e._self._c;return t("AcceleratorManager")},Ye=[],Xe=a(9040),Ge=function(){var e=this,t=e._self._c;return t(i.Z,[t(h.EB,[t("h1",[e._v("Lecturas del sensor de aceleración")])]),t(h.ZB,[t("label",[e._v("Velocidad angular en el eje X: ")]),e._v(" "),t(Xe.Z,{attrs:{type:"number"},model:{value:e.angularSpeedX,callback:function(t){e.angularSpeedX=t},expression:"angularSpeedX"}}),t("label",[e._v("Velocidad angular en el eje Y: ")]),e._v(" "),t(Xe.Z,{attrs:{type:"number"},model:{value:e.angularSpeedY,callback:function(t){e.angularSpeedY=t},expression:"angularSpeedY"}}),t("label",[e._v("Velocidad angular en el eje Z: ")]),e._v(" "),t(Xe.Z,{attrs:{type:"number"},model:{value:e.angularSpeedZ,callback:function(t){e.angularSpeedZ=t},expression:"angularSpeedZ"}}),t("label",[e._v("Timestamp: ")]),e._v(" "),t(Xe.Z,{attrs:{type:"number"},model:{value:e.accelTimestamp,callback:function(t){e.accelTimestamp=t},expression:"accelTimestamp"}})],1),t(h.h7,[t(o.Z,{attrs:{color:"primary"},on:{click:e.startAccelerator}},[e._v("Iniciar")]),t(o.Z,{attrs:{color:"warning"},on:{click:e.stopAccelerator}},[e._v("Detener")]),t(o.Z,{attrs:{color:"error"},on:{click:e.resetAccelerator}},[e._v("Reiniciar")]),t(o.Z,{attrs:{color:"success"},on:{click:e.downloadAccelRec}},[e._v("Guardar")])],1)],1)},Ke=[];let Qe,Je=new LinearAccelerationSensor({frequency:200}),et=new String,tt=new String;Je.addEventListener("reading",(()=>{Qe=new Date,et=Qe.getSeconds()+"."+Qe.getMilliseconds(),tt+=Je.x.toFixed(5)+","+Je.y.toFixed(5)+","+Je.z.toFixed(5)+","+et,tt+="\n"}));var at={name:"AcceleratorManager",data(){return{angularSpeedX:Je.x,angularSpeedY:Je.y,angularSpeedZ:Je.z,accelTimestamp:et}},methods:{startAccelerator(){console.log("Iniciando el sensor de aceleración"),Je.start()},stopAccelerator(){console.log("Deteniendo el sensor de aceleración"),Je.stop()},resetAccelerator(){console.log("Reiniciando el sensor de aceleración"),tt=new String},downloadAccelRec(){let e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURI(tt),e.target="_blank",e.download="Accelerometer Record.csv",e.click()}}},st=at,nt=(0,w.Z)(st,Ge,Ke,!1,null,"5b2382e7",null),rt=nt.exports,ot={name:"SensingTools",components:{AcceleratorManager:rt}},it=ot,lt=(0,w.Z)(it,Me,Ye,!1,null,"42c062db",null),ct=lt.exports;s.ZP.use(R.ZP);const ut=[{path:"/",name:"home",component:de},{path:"/upload",name:"upload",component:Ve},{path:"/sensing",name:"sensing",component:ct},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,6545))}],dt=new R.ZP({routes:ut});var mt=dt,pt=a(8433),ht=a(629);s.ZP.use(ht.ZP);const ft={userData:{}},gt={update(e,t){e.userData=t}},vt=new ht.ZP.Store({state:ft,mutations:gt}),Zt=pt.Z.create({baseURL:"http://localhost:3000/"});s.ZP.config.productionTip=!1,s.ZP.prototype.$axios=Zt,new s.ZP({vuetify:L,router:mt,store:vt,render:e=>e(P)}).$mount("#app")},3897:function(){}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,r){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],r=e[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,n,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.fbdf7e57.js"}}(),function(){a.miniCssF=function(e){return"css/about.8fc2c8b5.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="interface:";a.l=function(s,n,r,o){if(e[s])e[s].push(n);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+r),i.src=s),e[s]=[n];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var n=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e=function(e,t,a,s){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var r=function(r){if(n.onerror=n.onload=null,"load"===r.type)a();else{var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=i,n.parentNode.removeChild(n),s(l)}};return n.onerror=n.onload=r,n.href=t,document.head.appendChild(n),n},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var n=a[s],r=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===e||r===t))return n}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){n=o[s],r=n.getAttribute("data-href");if(r===e||r===t)return n}},s=function(s){return new Promise((function(n,r){var o=a.miniCssF(s),i=a.p+o;if(t(o,i))return n();e(s,i,n,r)}))},n={143:0};a.f.miniCss=function(e,t){var a={443:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=s(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,s){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var r=new Promise((function(a,s){n=e[t]=[a,s]}));s.push(n[2]=r);var o=a.p+a.u(t),i=new Error,l=function(s){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n[1](i)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,r,o=s[0],i=s[1],l=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var u=l(a)}for(t&&t(s);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},s=self["webpackChunkinterface"]=self["webpackChunkinterface"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(7489)}));s=a.O(s)})();
//# sourceMappingURL=app.30633f7f.js.map