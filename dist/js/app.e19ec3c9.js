(function(){var e={8857:function(e,t,a){"use strict";var s=a(144),r=a(2202),o=a(1096),n=a(7179),i=a(9781),l=a(4437),c=a(5452),u=a(5294),d=a(9953),m=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{height:"windowHeight",width:"windowWidth"}},[t(d.Z,{attrs:{dark:"",color:"primary",window:"",height:"60"}},[t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"3"}},[t(n.Z,{attrs:{text:"",primary:""},on:{click:function(t){return e.$router.replace({path:"/"})}}},[e._v("Sistema de gestión de datos de sensado")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(n.Z,{attrs:{text:"",primary:""},on:{click:function(t){e.loginAttemp=!0}}},[e._v("Autenticarse")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(n.Z,{attrs:{text:"",primary:""},on:{click:function(t){e.registerAttemp=!0}}},[e._v("Registrarse")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(n.Z,{attrs:{disabled:!e.loggedIn,text:"",primary:""},on:{click:e.handleLoggedIn}},[e._v(" Manejo de Datos ")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"1"}},[t(n.Z,{attrs:{text:"",primary:""},on:{click:function(t){return e.$router.replace({path:"sensing/"})}}},[e._v(" Sensado ")])],1),t(l.Z,{staticClass:"primary py-4 text-center white--text",attrs:{cols:"12",md:"2"}},[t(n.Z,{attrs:{text:"",primary:""},on:{click:function(t){return e.$router.replace({path:"about/"})}}},[e._v("Acerca de este sitio")])],1)],1)],1),t(i.Z,{attrs:{height:"100%"}},[t(c.Z,{attrs:{width:"400"},model:{value:e.registerAttemp,callback:function(t){e.registerAttemp=t},expression:"registerAttemp"}},[t("RegisterUser",{on:{register:e.handleRegister}})],1),t(c.Z,{attrs:{width:"300"},model:{value:e.loginAttemp,callback:function(t){e.loginAttemp=t},expression:"loginAttemp"}},[t("LoginComponent",{on:{login:e.handleLogin}})],1),t("router-view"),e.loginSuccess?t(r.Z,{attrs:{elevation:"3",type:"success"},on:{click:function(t){e.loginSuccess=!1}}},[e._v("Se ha autenticado correctamente ")]):e._e(),e.registerSuccess?t(r.Z,{attrs:{elevation:"3",type:"success"},on:{click:function(t){e.registerSuccess=!1}}},[e._v("Se ha registrado correctamente ")]):e._e(),e.noBalance?t(r.Z,{attrs:{elevation:"3",type:"error"},on:{click:function(t){e.noBalance=!1}}},[e._v("Se ha autenticado correctamente ")]):e._e()],1)],1)},p=[],f=a(5223),h=a(6035),g=a(6904),v=a(5234),Z=a(5251),b=function(){var e=this,t=e._self._c;return t(i.Z,[t(g.Z,[t(h.Z,[t(l.Z,[t(u.Z,{attrs:{cols:"12",md:"4"}},[t(n.Z,{staticClass:"text-align: left",attrs:{text:"",primary:"",width:"100%"}},[e._v("Introduzca sus datos:")]),t(Z.Z,{attrs:{label:"Usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{type:"password",label:"Contraseña",required:""},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1)],1)],1)],1),t(f.h7,[t(v.Z),t(n.Z,{attrs:{color:"success"},on:{click:e.login}},[e._v(" Entrar ")]),t(n.Z,{attrs:{color:"error"},on:{click:e.incorrectData}},[e._v(" Cancelar ")])],1)],1)},y=[],_={data:()=>({username:"",secret:"",userData:Object}),methods:{async login(){this.userData=await this.$axios.post("login",{username:this.username,secret:this.secret}).then((function(e){return console.log(e),e.data.usuarioDb})).catch((function(e){console.log(e)})),this.$store.state.userData=this.userData,console.log(this.$store.state.userData),"undefined"!==typeof this.userData?this.$emit("login","correct"):this.incorrectData},incorrectData(){this.$emit("login","cancelled")}}},x=_,w=a(1001),k=(0,w.Z)(x,b,y,!1,null,null,null),C=k.exports,D=function(){var e=this,t=e._self._c;return t(i.Z,[t(g.Z,[t(h.Z,[t(l.Z,[t(n.Z,{staticClass:"text-align: left",attrs:{text:"",primary:"",width:"100%"}},[e._v("Introduzca sus datos:")]),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Nombres",required:""},model:{value:e.names,callback:function(t){e.names=t},expression:"names"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Apellidos",required:""},model:{value:e.lastNames,callback:function(t){e.lastNames=t},expression:"lastNames"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Nombre de usuario",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{type:"password",label:"Contraseña",required:""},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Rol",value:"Curador",disabled:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),t(u.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{label:"Crédito",value:"100.00",prefix:"$",disabled:""},model:{value:e.balance,callback:function(t){e.balance=t},expression:"balance"}})],1)],1)],1)],1),t(f.h7,[t(v.Z),t(n.Z,{attrs:{color:"success"},on:{click:e.registerUser}},[e._v(" Registrar ")]),t(n.Z,{attrs:{color:"error"},on:{click:e.incorrectData}},[e._v(" Cancelar ")])],1)],1)},S=[],A={data:()=>({names:"",lastNames:"",username:"",secret:"",role:"Curador de datos",balance:100,userData:Object}),methods:{async registerUser(){this.userData=await this.$axios.post("users",{username:this.username,secret:this.secret,names:this.names,lastNames:this.lastNames,role:this.role,balance:this.balance}).then((function(e){return console.log(e,"brute response"),e.data.newUser})).catch((function(e){console.log(e)})),this.$store.state.userData=this.userData,console.log(this.$store.state.userData),"undefined"!==typeof this.userData&&this.$emit("register","correct")},incorrectData(){this.$emit("register","cancelled")}}},F=A,T=(0,w.Z)(F,D,S,!1,null,null,null),$=T.exports,N={components:{LoginComponent:C,RegisterUser:$},data:()=>({windowHeight:window.innerHeight,windowWidth:window.innerWidth,loginAttemp:!1,registerAttemp:!1,loginSuccess:!1,registerSuccess:!1,noBalance:!1,loggedIn:!1}),methods:{handleLogin(e){"correct"==e&&(this.loginSuccess=!0,this.loggedIn=!0),this.loginAttemp=!1},handleRegister(e){"correct"==e&&(this.registerAttemp=!0,this.handleLoggedIn()),this.registerAttemp=!1},handleBalance(e){this.noBalance=e},handleLoggedIn(){"undefined"!=typeof this.$store.state.userData._id&&(this.loggedIn=!0,this.$router.replace({path:"/upload"}))}}},I=N,E=(0,w.Z)(I,m,p,!1,null,null,null),R=E.exports,B=a(2250);s.ZP.use(B.Z);var P=new B.Z({}),L=a(8345),j=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("HelloWorld"),t("FooterComponent")],1)},q=[],U=a(4944),z=a(4192),G=a(8714),W=a(6487),O=a(1911),H=a(1133),M=a(5057),V=a(6660),Y=function(){var e=this,t=e._self._c;return t(i.Z,{staticClass:"mx-auto my-3",attrs:{width:"80%",elevation:"6"}},[t("div",{staticClass:"text-center d-flex pb-4"},[t(u.Z,[t(l.Z,{staticClass:"ml-5",attrs:{cols:"8",md:"2"}},[t(V.Z,{attrs:{inset:"",label:"Expandir"},on:{click:e.unfoldFiles},model:{value:e.unfold,callback:function(t){e.unfold=t},expression:"unfold"}})],1),t(l.Z,{attrs:{cols:"10",md:"7"}},[t(n.Z,{staticClass:"mt-4",attrs:{text:"",color:"blue"},on:{click:e.getAllUsers}},[e._v("Contratos activos por usuario"),t(M.Z,[e._v("mdi-refresh")])],1)],1)],1)],1),e.noBalance?t(r.Z,{attrs:{elevation:"3",type:"error"},on:{click:function(t){e.noBalance=!1}}},[e._v("Necesitas más créditos ")]):e._e(),t(i.Z,{staticClass:"overflow-auto",attrs:{height:e.windowHeight}},[t(H.Z,{attrs:{multiple:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},e._l(e.usersFull,(function(a,s){return t(G.Z,{key:s},[t(O.Z,[t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"2"}},[t(U.Z,{attrs:{color:"primary"}},[e._v(" "+e._s(a.role)+" ")])],1),t(l.Z,{staticClass:"text-left",attrs:{cols:"12",md:"4"}},[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v(" "+e._s(a.names)+" "+e._s(a.lastNames)+" ")])],1)],1)],1),e._l(a.files,(function(a,r){return t(W.Z,{key:r},[t(u.Z,{staticClass:"background-color: blue"},[t(n.Z,{attrs:{text:"",color:"white"}},[e._v("Información de los datos: ")]),t(v.Z),t(n.Z,{attrs:{text:"",color:"white"},on:{click:function(t){return e.buy(s,r)}}},[e._v("Comprar ")])],1),t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"4"}},[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Nombre de archivo: "+e._s(a.fileName.slice(0,30)))])],1),t(l.Z,{staticClass:"text-center",attrs:{cols:"12",md:"3"}},[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Tamaño de archivo: "+e._s(a.fileSize)+" B")])],1),t(l.Z,{staticClass:"text-center",attrs:{cols:"12",md:"3"}},[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Formato de archivo: "+e._s(a.dataFormat))])],1)],1),t(u.Z,{attrs:{cols:"12",md:"8"}},[t(n.Z,{staticClass:"ml-3",attrs:{text:"",color:"blue"}},[e._v("Etiquetas:")]),e._l(a.dataTypes,(function(a,s){return t(U.Z,{key:s,staticClass:"mx-2 my-1",attrs:{color:"primary"}},[e._v(" "+e._s(a)+" ")])}))],2),t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"4"}},[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Precio: "+e._s(a.remuneration))])],1),t(l.Z,{staticClass:"text-center",attrs:{cols:"12",md:"2"}},[t(n.Z,{staticClass:"ml-2",attrs:{text:"",color:"blue"}},[e._v("Paciente: "+e._s(a.patientNames)+" "+e._s(a.patientLastNames))])],1)],1),t(z.Z)],1)}))],2)})),1)],1)],1)},X=[],K={name:"HelloWorld",beforeMount(){this.getAllUsers(),this.windowHeight=.7*window.innerHeight},data:()=>({panel:[],panelItems:5,usersFull:[],unfold:!1,contractChosen:Number,noBalance:!1,windowHeight:0,windowWidth:window.innerWidth}),methods:{setWeb3Addr(){return!1},readWallet(){return!1},createWallet(){return!1},deployContract(){return!1},unfoldFiles(){this.unfold?this.panel=[...Array(this.panelItems).keys()].map(((e,t)=>t)):this.panel=[]},async getAllUsers(){this.usersFull=await this.$axios.get("users").then((function(e){return e.data})),console.log(this.usersFull,"all users"),this.panelItems=this.usersFull.length},getPanelContent(){this.panelItems=this.usersFull},async buy(e,t){console.log(e,t);let a=this.$store.state.userData.balance-this.usersFull[e].files[t].remuneration;console.log(a);let s=this.usersFull[e].balance+this.usersFull[e].files[t].remuneration;console.log(s);let r=this.usersFull[e].files[t],o=this.$store.state.userData._id,n=this.usersFull[e]._id;a>=0?(await this.$axios.put(`users/${o}`,{balance:a}).then((function(e){console.log(e,"buyer update brute response")})).catch((function(e){console.log(e)})),await this.$axios.put(`users/${n}`,{balance:s}).then((function(e){console.log(e,"seller update brute response")})).catch((function(e){console.log(e)})),window.open("https://tesis.infura-ipfs.io/ipfs/"+r.ipfsAddr)):this.noBalance=!0,this.getAllUsers()}}},Q=K,J=(0,w.Z)(Q,Y,X,!1,null,null,null),ee=J.exports,te=a(3584),ae=function(){var e=this,t=e._self._c;return t(te.Z,{attrs:{color:"primary lighten-1",padless:""}},[t(u.Z,{staticClass:"text-center white--text",attrs:{justify:"center","no-gutters":""}},[e._v("Este sistema no está pensado para su uso fuera del ambiente de pruebas de viabilidad con la participación de los estudiantes de la asignatura Ciencia de Datos para Sensores del Dpto. de Ciencias Computacionales."),t("br"),e._v("Absténgase de emplearlo con cualquier otro fin y conste que las interacciones con el mismo generan registro en propiedad de la institución a pie de página. "),t(l.Z,{staticClass:"primary lighten-2 py-4 text-center white--text",attrs:{cols:"12"}},[e._v(" "+e._s((new Date).getFullYear())+" — "),t("strong",[e._v("CICESE")])])],1)],1)},se=[],re={data:()=>({links:["Home","About Us","Team","Services","Blog","Contact Us"]})},oe=re,ne=(0,w.Z)(oe,ae,se,!1,null,null,null),ie=ne.exports,le={name:"HomeView",components:{HelloWorld:ee,FooterComponent:ie}},ce=le,ue=(0,w.Z)(ce,j,q,!1,null,null,null),de=ue.exports,me=a(5378),pe=a(248),fe=a(1908),he=a(3944),ge=a(2776),ve=a(8228),Ze=a(2370),be=function(){var e=this,t=e._self._c;return t(o.Z,[t(i.Z,{staticClass:"mt-3",attrs:{height:"windowHeight",width:e.windowWidth}},[t(i.Z,{staticClass:"float-left ml-5",attrs:{width:"48.5%",height:"60%",elevation:"5",outlined:"",shaped:""}},[t(me.Z,{attrs:{flat:"",color:"blue"}},[t(M.Z,{staticClass:"pr-2",attrs:{dark:""}},[e._v("mdi-list-box-outline")]),t(Ze.qW,{staticClass:"text-h6 white--text pl-0"},[e._v(" Listado de archivos ")]),t(i.Z,{staticClass:"ma-auto"}),t(v.Z),t(n.Z,{attrs:{color:"white",icon:""}},[t(M.Z,{on:{click:e.fillFileList}},[e._v("mdi-refresh")])],1)],1),t(pe.Z,{staticClass:"ma-2"},[t(ge.Z,{staticClass:"overflow-auto",model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[t(fe.Z,[t(he.km,[t(he.V9,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Tipo")])],1)],1),t(he.km,[t(he.V9,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Nombre de archivo")])],1)],1),t(he.km,[t(he.V9,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Tamaño de archivo")])],1)],1),t(he.km,[t(he.V9,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Acciones")])],1)],1)],1),t(fe.Z,[t(z.Z)],1),e._l(e.files,(function(a,s){return t(fe.Z,{key:s},[t(he.km,[t(M.Z,{domProps:{textContent:e._s(a.icon)}})],1),t(z.Z,{attrs:{vertical:""}}),t(he.km,[t(he.V9,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v(e._s(a.name))])],1)],1),t(z.Z,{attrs:{vertical:""}}),t(he.km,[t(he.V9,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v(e._s(a.size)+" kilobytes")])],1)],1),t(z.Z,{attrs:{vertical:""}}),t(he.km,[t(ve.Z,[t(M.Z,{staticClass:"mx-auto",on:{click:function(t){return e.getIpfsFile(s)}}},[e._v("mdi-download")]),t(M.Z,{staticClass:"mx-auto",on:{click:function(t){return e.deleteContract(s)}}},[e._v("mdi-delete")])],1)],1)],1)}))],2)],1),t(f.h7,[t(v.Z)],1)],1),t(i.Z,{staticClass:"float-right mr-5",attrs:{width:"48.5%","max-height":"60%","min-height":"45%",elevation:"5",outlined:"",shaped:""}},[t("UploadData",{on:{fileData:e.getFileData}})],1),t(i.Z,{staticClass:"float-end ma-5",attrs:{width:"98%",height:"25%",elevation:"5",outlined:""}},[t("ContractStarter",{attrs:{fileData:e.fileData}})],1)],1)],1)},ye=[],_e=(a(7658),a(271)),xe=function(){var e=this,t=e._self._c;return t(i.Z,[t(me.Z,{attrs:{flat:"",color:"blue"}},[t(M.Z,{staticClass:"pr-2",attrs:{dark:""}},[e._v("mdi-folder-arrow-up-outline")]),t(Ze.qW,{staticClass:"text-h6 white--text pl-0"},[e._v(" Subir a IPFS ")]),t(i.Z,{staticClass:"ma-auto"}),t(v.Z),t(n.Z,{attrs:{color:"white",icon:""}},[t(M.Z,[e._v("mdi-power-plug-off")])],1)],1),t(i.Z,{staticClass:"pa-2",attrs:{flat:""}},[t(n.Z,{staticClass:"font-weight-black",attrs:{text:"",color:"blue"}},[e._v("Información del archivo")]),t(l.Z,{attrs:{"no-gutters":""}},[t(u.Z,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Nombre: "+e._s(e.name)+" ")])],1),t(u.Z,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Tamaño: "+e._s(e.size))])],1),t(u.Z,[t(n.Z,{attrs:{text:"",color:"blue"}},[e._v("Tipo: "+e._s(e.type))])],1)],1)],1),t(_e.Z,{staticClass:"pa-10 mx-auto",attrs:{color:"blue",accept:"*",label:"Presione para seleccionar un archivo"},on:{change:function(t){return e.captureFile(e.uploadBtn)}},model:{value:e.uploadBtn,callback:function(t){e.uploadBtn=t},expression:"uploadBtn"}}),t(f.h7,[t(v.Z),t(n.Z,{staticClass:"mr-8",attrs:{dark:"",color:"primary",large:""},on:{click:e.onSubmit}},[e._v(" Subir "),t(M.Z,{attrs:{right:"",dark:""}},[e._v(" mdi-cloud-upload ")])],1)],1)],1)},we=[],ke=a(3952),Ce=a(8764);const De="2KiK6S75slDQfxRFU5dfP7z7TQG",Se="622237ae0de6536fe6464071ffa0a100",Ae="Basic "+Ce.lW.from(De+":"+Se).toString("base64"),Fe=(0,ke.Ue)({host:"ipfs.infura.io",port:5001,protocol:"https",headers:{authorization:Ae}});var Te=Fe,$e={data:()=>({uploadBtn:[],buffer:"",name:"",size:0,type:""}),methods:{async convertToBuffer(e){return Ce.lW.from(e)},captureFile(e){console.log(e),this.name=e.name,this.size=e.size,this.type=e.type;const t=new FileReader;"undefined"!==typeof e?(t.readAsArrayBuffer(e),t.onloadend=async()=>{this.buffer=await this.convertToBuffer(t.result)}):this.buffer=""},async onSubmit(){this.$root.loading=!0;let e=await Te.add(this.buffer);console.log(e),this.$emit("fileData",[this.type,this.name,this.size,e.path])},handleOk(){this.buffer&&this.caption?this.onSubmit():alert("Please fill in the information.")}},mounted(){}},Ne=$e,Ie=(0,w.Z)(Ne,xe,we,!1,null,null,null),Ee=Ie.exports,Re=a(6072),Be=a(5316),Pe=function(){var e=this,t=e._self._c;return t(i.Z,[t(me.Z,{attrs:{flat:"",color:"blue"}},[t(M.Z,{staticClass:"pr-2",attrs:{dark:""}},[e._v("mdi-file-sign")]),t(Ze.qW,{staticClass:"text-h6 white--text pl-0"},[e._v(" Carta de consentimiento ")]),t(i.Z,{staticClass:"ma-auto"}),t(v.Z),t(n.Z,{attrs:{outlined:"",color:"white",disabled:!e.consentCheck},on:{click:e.signContract}},[e._v("Firmar"),t(M.Z,[e._v("mdi-draw-pen")])],1)],1),t(g.Z,{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(h.Z,[t(u.Z,[t(l.Z,{attrs:{cols:"12",md:"2"}},[t(Re.Z,{attrs:{label:"Son mis datos",color:"primary",value:"primary","hide-details":""},on:{click:e.updateNames},model:{value:e.ownData,callback:function(t){e.ownData=t},expression:"ownData"}})],1),t(l.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{rules:e.nameRules,label:"Nombre(s) del paciente",required:""},model:{value:e.firstname,callback:function(t){e.firstname=t},expression:"firstname"}})],1),t(l.Z,{attrs:{cols:"12",md:"4"}},[t(Z.Z,{attrs:{rules:e.nameRules,label:"Apellido(s) del paciente",required:""},model:{value:e.lastname,callback:function(t){e.lastname=t},expression:"lastname"}})],1),t(l.Z,{attrs:{cols:"12",md:"2"}},[t(Z.Z,{attrs:{label:"Remuneración esperada",value:"00.00",prefix:"$"},model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}})],1)],1),t(u.Z,[t(l.Z,[t(Be.Z,{attrs:{items:e.dataTypeItems,"search-input":e.search,"hide-selected":"",hint:"Máximo 5 etiquetas",label:"¿Qué tipo de datos contiene?",multiple:"","persistent-hint":"","small-chips":"",clearable:""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(fe.Z,[t(he.km,[t(he.V9,[e._v(' No se encuentra "'),t("strong",[e._v(e._s(e.search))]),e._v('". Presione '),t("kbd",[e._v("Enter")]),e._v(" para agregar esta etiqueta ")])],1)],1)]},proxy:!0}]),model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}})],1),t(l.Z,[t(Re.Z,{attrs:{label:"Al marcar esta casilla confirma haber leído y aceptado la carta de consentimiento de uso de datos que puede encontrar en este enlace",color:"success",value:"success","hide-details":""},model:{value:e.consentCheck,callback:function(t){e.consentCheck=t},expression:"consentCheck"}})],1)],1)],1)],1),e.signSuccess?t(r.Z,{attrs:{elevation:"3",type:"success"},on:{click:function(t){e.signSuccess=!1}}},[e._v("Firmado correctamente ")]):e._e(),e.noData?t(r.Z,{attrs:{elevation:"3",type:"error"},on:{click:function(t){e.noData=!1}}},[e._v("Debe subir datos primero ")]):e._e()],1)},Le=[],je={props:["fileData"],data:()=>({consentCheck:!1,noData:!1,ownData:!1,valid:!1,firstname:"",lastname:"",nameRules:[e=>!!e||"Se necesita un nombre",e=>e.length>=2||"Demasiado corto"],email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+/.test(e)||"E-mail must be valid"],dataTypeItems:["Grabación de voz","Interacción con el robot EVA","Estados de ánimo"],dataType:[],search:null,payment:0,signSuccess:!1}),watch:{dataType(e){e.length>5&&this.$nextTick((()=>this.dataType.pop()))}},methods:{async signContract(){if(console.log(this.fileData),"undefined"!=typeof this.fileData&&0!=this.fileData.length){let e=await this.$axios.post("data",{ipfsAddr:this.fileData[3],fileName:this.fileData[1],fileSize:this.fileData[2],dataFormat:this.fileData[0],remuneration:this.payment,dataTypes:this.dataType,patientNames:this.firstname,patientLastNames:this.lastname,user_id:this.$store.state.userData._id}).then((function(e){return console.log(e),e.data})).catch((function(e){console.log(e)}));"undefined"!=typeof e&&(this.signSuccess=!0)}else this.noData=!0}},updateNames(){console.log(this.$store.state.userData),this.firstname=this.$store.state.userData.names,this.lastname=this.$store.state.userData.lastNames},checkReadyToSign(){}},qe=je,Ue=(0,w.Z)(qe,Pe,Le,!1,null,null,null),ze=Ue.exports,Ge={components:{UploadData:Ee,ContractStarter:ze},data:()=>({files:[],model:1,windowHeight:.7*window.innerHeight,windowWidth:window.innerWidth,fileData:[],userFiles:[]}),methods:{getFileData(e){this.fileData=e,console.log(e,"data received from upload");let t="";t="image"==e[0].slice(0,5)?"mdi-image":"audio"==e[0].slice(0,5)?"mdi-music-box-outline":"video"==e[0].slice(0,5)?"mdi-movie-open-outline":"mdi-file",this.files.push({icon:t,name:e[1],size:e[2],addr:e[3]})},fillFileList(){console.log(this.userFiles);let e=this.userFiles;e.forEach((e=>{let t="";t="image"==e.dataFormat.slice(0,5)?"mdi-image":"audio"==e.dataFormat.slice(0,5)?"mdi-music-box-outline":"video"==e.dataFormat.slice(0,5)?"mdi-movie-open-outline":"mdi-file",this.files.push({icon:t,name:e.fileName,size:e.fileSize,addr:e.ipfsAddr,id:e._id})}))},async getUserFiles(){let e=this.$store.state.userData._id;console.log(e),this.userFiles=await this.$axios.get(`users/${e}`).then((function(e){return console.log(e),e.data.files})).catch((function(e){console.log(e)})),console.log(this.userFiles),this.fillFileList()},async getIpfsFile(e){window.open("https://tesis.infura-ipfs.io/ipfs/"+this.files[e].addr)},async deleteContract(e){await this.$axios.post(`data/${this.files[e].id}`).then((function(e){console.log(e,"file delete brute response")})).catch((function(e){console.log(e)}))}},mounted(){this.getUserFiles()}},We=Ge,Oe=(0,w.Z)(We,be,ye,!1,null,null,null),He=Oe.exports,Me=a(3333),Ve=a(6878),Ye=a(4047),Xe=a(7233),Ke=a(3),Qe=function(){var e=this,t=e._self._c;return t(i.Z,[t(Ye.Z,{attrs:{color:"primary",centered:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(Ke.Z),t(Me.Z,[e._v(" Acelerómetro ")]),t(Me.Z,[e._v(" Giroscopio ")]),t(Me.Z,[e._v(" Geolocalización ")])],1),t(Xe.Z,{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(Ve.Z,[t(i.Z,{staticClass:"mx-auto fit",attrs:{flat:""}},[t("AcceleratorManager")],1)],1),t(Ve.Z,[t(i.Z,{attrs:{flat:""}},[t("GyroscopeManager",{staticClass:"mx-auto fit flat"})],1)],1),t(Ve.Z,[t(i.Z,{attrs:{flat:""}},[e._v(" geo ")])],1)],1)],1)},Je=[],et=a(9040),tt=function(){var e=this,t=e._self._c;return t(i.Z,[t(f.EB,[t("h2",{staticClass:"indigo--text"},[e._v("Lectura del Acelerómetro")])]),t(f.ZB,[t("label",{staticClass:"indigo--text"},[e._v("Aceleración en el eje X: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.angularSpeedX,callback:function(t){e.angularSpeedX=t},expression:"angularSpeedX"}}),t("label",{staticClass:"indigo--text"},[e._v("Aceleración en el eje Y: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.angularSpeedY,callback:function(t){e.angularSpeedY=t},expression:"angularSpeedY"}}),t("label",{staticClass:"indigo--text"},[e._v("Aceleración en el eje Z: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.angularSpeedZ,callback:function(t){e.angularSpeedZ=t},expression:"angularSpeedZ"}}),t("label",{staticClass:"indigo--text"},[e._v("Timestamp: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.accelTimestamp,callback:function(t){e.accelTimestamp=t},expression:"accelTimestamp"}})],1),t(f.h7,[t(n.Z,{attrs:{color:"primary"},on:{click:e.startAccelerator}},[e._v("Iniciar")]),t(n.Z,{attrs:{color:"warning"},on:{click:e.stopAccelerator}},[e._v("Detener")]),t(n.Z,{attrs:{color:"error"},on:{click:e.resetAccelerator}},[e._v("Reiniciar")]),t(n.Z,{attrs:{color:"success"},on:{click:e.downloadAccelRec}},[e._v("Guardar")])],1)],1)},at=[];let st,rt=new LinearAccelerationSensor({frequency:200}),ot=new String,nt=new String;rt.addEventListener("reading",(()=>{st=new Date,ot=st.getSeconds()+"."+st.getMilliseconds(),nt+=rt.x.toFixed(5)+","+rt.y.toFixed(5)+","+rt.z.toFixed(5)+","+ot,nt+="\n"}));var it={name:"AcceleratorManager",data(){return{angularSpeedX:rt.x,angularSpeedY:rt.y,angularSpeedZ:rt.z,accelTimestamp:ot}},methods:{startAccelerator(){console.log("Iniciando el sensor de aceleración"),rt.start()},stopAccelerator(){console.log("Deteniendo el sensor de aceleración"),rt.stop()},resetAccelerator(){console.log("Reiniciando el sensor de aceleración"),nt=new String},downloadAccelRec(){let e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURI(nt),e.target="_blank",e.download="Accelerometer Record.csv",e.click()}}},lt=it,ct=(0,w.Z)(lt,tt,at,!1,null,"b9e00a04",null),ut=ct.exports,dt=function(){var e=this,t=e._self._c;return t(i.Z,[t(f.EB,[t("h2",{staticClass:"blue--text"},[e._v("Lecturas del Giroscopio")])]),t(f.ZB,[t("label",{staticClass:"blue--text"},[e._v("Velocidad angular en el eje X: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.gyroX,callback:function(t){e.gyroX=t},expression:"gyroX"}}),t("label",{staticClass:"blue--text"},[e._v("Velocidad angular en el eje Y: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.gyroY,callback:function(t){e.gyroY=t},expression:"gyroY"}}),t("label",{staticClass:"blue--text"},[e._v("Velocidad angular en el eje Z: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.gyroZ,callback:function(t){e.gyroZ=t},expression:"gyroZ"}}),t("label",{staticClass:"blue--text"},[e._v("Timestamp: ")]),e._v(" "),t(et.Z,{attrs:{type:"number"},model:{value:e.gyroTimestamp,callback:function(t){e.gyroTimestamp=t},expression:"gyroTimestamp"}})],1),t(f.h7,[t(n.Z,{attrs:{color:"primary"},on:{click:e.startGyroscope}},[e._v("Iniciar")]),t(n.Z,{attrs:{color:"warning"},on:{click:e.stopGyroscope}},[e._v("Detener")]),t(n.Z,{attrs:{color:"error"},on:{click:e.resetGyroscope}},[e._v("Reiniciar")]),t(n.Z,{attrs:{color:"success"},on:{click:e.downloadGyroRec}},[e._v("Guardar")])],1)],1)},mt=[];let pt,ft=new Gyroscope({frequency:200}),ht=new String,gt=new String;ft.addEventListener("reading",(()=>{pt=new Date,ht=pt.getSeconds()+"."+pt.getMilliseconds(),gt+=ft.x.toFixed(5)+","+ft.y.toFixed(5)+","+ft.z.toFixed(5)+","+ht,gt+="\n"}));var vt={name:"GyroscopeManager",data(){return{gyroX:ft.x,gyroY:ft.y,gyroZ:ft.z,gyroTimestamp:ht}},methods:{startGyroscope(){console.log("Iniciando el giroscopio"),ft.start()},stopGyroscope(){console.log("Deteniendo el giroscopio"),ft.stop()},resetGyroscope(){console.log("Reiniciando el girosocpio"),gt=new String},downloadGyroRec(){let e=document.createElement("a");e.href="data:text/csv;charset=utf-8,"+encodeURI(gt),e.target="_blank",e.download="Gyroscope Record.csv",e.click()}}},Zt=vt,bt=(0,w.Z)(Zt,dt,mt,!1,null,"7b77c12a",null),yt=bt.exports,_t={name:"SensingTools",components:{AcceleratorManager:ut,GyroscopeManager:yt},data(){return{tab:0}}},xt=_t,wt=(0,w.Z)(xt,Qe,Je,!1,null,"666b6246",null),kt=wt.exports;s.ZP.use(L.ZP);const Ct=[{path:"/",name:"home",component:de},{path:"/upload",name:"upload",component:He},{path:"/sensing",name:"sensing",component:kt},{path:"/about",name:"about",component:()=>a.e(443).then(a.bind(a,6545))}],Dt=new L.ZP({routes:Ct});var St=Dt,At=a(8433),Ft=a(629);s.ZP.use(Ft.ZP);const Tt={userData:{}},$t={update(e,t){e.userData=t}},Nt=new Ft.ZP.Store({state:Tt,mutations:$t}),It=At.Z.create({baseURL:"https://34.219.134.43:3000/"});s.ZP.config.productionTip=!1,s.ZP.prototype.$axios=It,new s.ZP({vuetify:P,router:St,store:Nt,render:e=>e(R)}).$mount("#app")},3897:function(){}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],r=e[u][1],o=e[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(i=!1,o<n&&(n=o));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.fbdf7e57.js"}}(),function(){a.miniCssF=function(e){return"css/about.8fc2c8b5.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="interface:";a.l=function(s,r,o,n){if(e[s])e[s].push(r);else{var i,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=s),e[s]=[r];var m=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var r=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e=function(e,t,a,s){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var o=function(o){if(r.onerror=r.onload=null,"load"===o.type)a();else{var n=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=i,r.parentNode.removeChild(r),s(l)}};return r.onerror=r.onload=o,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var r=a[s],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){r=n[s],o=r.getAttribute("data-href");if(o===e||o===t)return r}},s=function(s){return new Promise((function(r,o){var n=a.miniCssF(s),i=a.p+n;if(t(n,i))return r();e(s,i,r,o)}))},r={143:0};a.f.miniCss=function(e,t){var a={443:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=s(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,s){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var o=new Promise((function(a,s){r=e[t]=[a,s]}));s.push(r[2]=o);var n=a.p+a.u(t),i=new Error,l=function(s){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",i.name="ChunkLoadError",i.type=o,i.request=n,r[1](i)}};a.l(n,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,n=s[0],i=s[1],l=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(t&&t(s);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},s=self["webpackChunkinterface"]=self["webpackChunkinterface"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8857)}));s=a.O(s)})();
//# sourceMappingURL=app.e19ec3c9.js.map